<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drink 1</title>
    <style>
        input {
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
<h3>Хранилище рецептов напитков</h3>
<input type="button" value="Ввод информации о напитке" onclick='inputData( )'><br>
<input type="button" value="Получение информации о напитке" onclick='getData( )'> <br>
<input type="button" value="Удаление информации о напитке" onclick='deleteData( )'> <br>
<input type="button" value="Перечень всех напитков" onclick='getList( )'>

<script>
//1.
// Разработать класс HashStorageFunc в функциональном стиле (т.е. функцию-конструктор) для хранения в хэше произвольных пар ключ-значение.
// Ключ может быть любой строкой; значение может иметь любой тип, в том числе векторный (хэш, массив и т.д.)
// Класс должен иметь следующий интерфейс (т.е. иметь следующие публичные методы):
// addValue(key,value) — сохраняет указанное значение под указанным ключом;
// getValue(key) — возвращает значение по указанному ключу либо undefined;
// deleteValue(key) — удаляет значение с указанным ключом, возвращает true если значение было удалено и false если такого значения не было в хранилище;
// getKeys() — возвращает массив, состоящий из одних ключей.
// Класс должен быть чистым (не должен использовать никаких глобальных переменных, не, должен «пачкать экран»).
// Класс должен быть универсальным, т.е. не зависеть ни от структуры хранимых данных, 
// ни от способа их последующего использования (в т.ч. не должен содержать никаких ссылок на DOM, т.к. может использоваться и вообще без веб-страницы).

"use strict";
function HashStorageFunc(key,value) {
    var self=this;

    self.hash={}; //свойство класса в виде хэша для хранения информации

    self.addValue=function(key,value){
        self.hash[key]=value; //идея: из первого параметра сделать ключ для хэша,
        //из второго параметра - значение для этого хэша
    };

    self.getValue=function(key){
        return self.hash[key];
    };

    self.deleteValue=function(key) {
        if (key in self.hash) {
            delete self.hash[key];
            return true;
        }
        else {
            return false;
        }
    };

    self.getKeys=function(){
        return Object.keys(self.hash);
    };
}

// 2.
// Создать объект drinkStorage класса HashStorageFunc для хранения рецептов напитков.
// Ключом является название напитка; значением — информация о напитке (алкогольный напиток или нет, строка с рецептом приготовления и т.д. по желанию).

var drinkStorage = new HashStorageFunc();
var info={};

// 3.
// Разработать веб-страницу для работы с хранилищем рецептов напитков.
// На странице должны быть кнопки:
// «ввод информации о напитке» — последовательно спрашивает название напитка, алкогольный он или нет, рецепт его приготовления; сохраняет информацию о напитке в хранилище.
// «получение информации о напитке» — спрашивает название напитка и выдаёт (на страницу, в консоль или в alert) либо информацию о нём (по примеру, приведённому ниже), либо сообщение об отсутствии такого напитка в хранилище.
// «удаление информации о напитке» — спрашивает название напитка и удаляет его из хранилища (если он там есть) с выдачей соответствующего сообщения в информационное окно.
// «перечень всех напитков» — выдаёт в информационное окно перечень всех напитков из хранилища (только названия).

// Пример информации о напитке:

// напиток Маргарита
// алкогольный: да
// рецепт приготовления:
// продукт, продукт... смешать...

// 1) функция для кнопки Ввод информации о напитке
function inputData ( ) {
    var drinkName = prompt ('Введите название напитка:');
    var isAlcogol = prompt ('Он алкогольный: да или нет?');
    var recipe = prompt ('Напишите рецепт приготовления');
    var info = {'алкогольный': isAlcogol, 'рецепт приготовления': recipe};//введено для удобства, можно было все это в нижней строке написать
    drinkStorage.addValue(drinkName, info);
}

// 2) функция для кнопки Получение информации о напитке
function getData ( ) {
    var drinkName = prompt ('Введите название напитка, который Вас интересует:');
    var gain = drinkStorage.getValue(drinkName);
    if (gain == undefined) alert('Информации о напитке ' + drinkName + ' в базе нет!');  
    else {
        console.log('напиток ' + drinkName);
        for (var key in gain) 
            console.log(key + ': ' + gain[key]);
    }      
}

// 3) функция для кнопки Удаление информации о напитке
function deleteData() {
    var drinkName = prompt ('Введите название напитка, информацию о котором нужно удалить:');
    var del = drinkStorage.deleteValue(drinkName);
    if (del) alert('Информация о напитке ' + drinkName + ' удалена!');
    else alert('Информации о напитке ' + drinkName + ' в базе и не было!');    
}

// 4) функция для кнопки Перечень всех напитков
function getList ( ) {
    alert(drinkStorage.getKeys());
}

</script>
</body>
</html>