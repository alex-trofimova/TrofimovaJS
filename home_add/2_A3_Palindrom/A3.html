<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Palindrom</title>
</head>
<body>
<script>
/*
Написать чистую функцию, проверяющую, что переданная ей фраза является палиндромом.
(Палиндром - это фраза, которая слева направо читается так же как справа налево)
Массивы при решении не использовать.
При проверке должны игнорироваться:
 - регистр букв;
 - пробелы;
 - знаки препинания;
 - мягкие и твёрдые знаки;
 - разница между буквами "е" и "ё".
Спросить у пользователя строку. Вывести через alert сообщение "это палиндром" или "это не палиндром".
*/

"use strict";

//запрашиваю строку у пользователя
var str = prompt('Введите текст');
//console.log(checkPalindrom(str));
alert(checkPalindrom(str));

//функция
function checkPalindrom(s) {
    var s0 = s; //сохраняю исходное значение в переменной s0, чтобы обратиться к нему в конце функции
    
    s = s.toLowerCase(); //перевожу в нижний регистр

    //s = s.split(' ').join(''); //убираю пробелы
   
    var regexp = /[а-я]/gi;
    s = s.match(regexp).join(''); //оставляю только буквы (убираю пробелы и знаки препинания)

    s = s.split('ё').join('е'); //заменяю ё на е
    s = s.split('ъ').join(''); //убираю ъ
    s = s.split('ь').join(''); //убираю ь
   
    var l = s.length-1; //длина строки перед циклом, затем она будет менятся при выполнении условий в цикле

    //идея: через цикл поступательно "обрезать" первую и последнюю букву, если они одинаковые
    for (var i=l; i>0; i--) {
        if (s[0] == s[s.length-1]) {
            s = s.slice(1,s.length-1);
        }
        else break;    
    }

    var res = ''; //переменная сообщения
    //варианты сообщения о результате
    if (s=='') {
        res = 'это палиндром!';
    }
    else {
        res = 'это НЕ палиндром!';
    }
    
    return (s0  + ' - ' + res);
}


</script>    
</body>
</html>